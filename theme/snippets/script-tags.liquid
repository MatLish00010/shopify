
{%- comment -%} Required for lazy-loading with Webpack on Shopify CDN {%- endcomment -%}
  {%- capture randomFile -%}{{ 'theme.bundle.js' | asset_url }}{%- endcapture -%}
  {%- assign assetsPath = randomFile | split: 'theme.bundle.js' | first -%}
<script>window.__webpack_public_path__ = "{{ assetsPath }}"</script>

<link rel="preload" href="{{ 'theme.bundle.js' | asset_url }}" as="script">

{{ 'theme.bundle.js' | asset_url | script_tag }}

{%- if template contains 'product' -%}

  {{ 'product.bundle.js' | asset_url | script_tag }}

{%- endif -%}

{% if template.directory == 'customers' %}

    <script src="{{ 'shopify_common.js' | shopify_asset_url }}"></script>

  {{ 'customers.bundle.js' | asset_url | script_tag }}
{% endif %}

{%- comment -%}

    {#{%- if layout == 'password' or layout == 'theme' -%}#}
        {#<script type="text/javascript" src="{{ 'vendors@layout.password@layout.theme.js' | asset_url }}" defer="defer"></script>#}
    {#{%- else -%}#}
        {#<link rel="prefetch" href="{{ 'vendors@layout.password@layout.theme.js' | asset_url }}" as="script">#}
    {#{%- endif -%}#}

    {#{%- if layout == 'password' -%}#}
        {#<script type="text/javascript" src="{{ 'layout.password.js' | asset_url }}" defer="defer"></script>#}
    {#{%- else -%}#}
        {#<link rel="prefetch" href="{{ 'layout.password.js' | asset_url }}" as="script">#}
    {#{%- endif -%}#}

    {#{%- if layout == 'theme' -%}#}
        {#<script type="text/javascript" src="{{ 'layout.theme.js' | asset_url }}" defer="defer"></script>#}
    {#{%- else -%}#}
        {#<link rel="prefetch" href="{{ 'layout.theme.js' | asset_url }}" as="script">#}
    {#{%- endif -%}#}

    {#{%- if template == 'blog' -%}#}
        {#<script type="text/javascript" src="{{ 'template.blog.js' | asset_url }}" defer="defer"></script>#}
    {#{%- else -%}#}
        {#<link rel="prefetch" href="{{ 'template.blog.js' | asset_url }}" as="script">#}
    {#{%- endif -%}#}

    {#{%- if template == 'collection' -%}#}
        {#<script type="text/javascript" src="{{ 'template.collection.js' | asset_url }}" defer="defer"></script>#}
    {#{%- else -%}#}
        {#<link rel="prefetch" href="{{ 'template.collection.js' | asset_url }}" as="script">#}
    {#{%- endif -%}#}

    {#{%- if template == 'gift_card' -%}#}
        {#<script type="text/javascript" src="{{ 'vendors@template.gift_card.js' | asset_url }}" defer="defer"></script>#}
    {#{%- else -%}#}
        {#<link rel="prefetch" href="{{ 'vendors@template.gift_card.js' | asset_url }}" as="script">#}
    {#{%- endif -%}#}

    {#{%- if template == 'gift_card' -%}#}
        {#<script type="text/javascript" src="{{ 'template.gift_card.js' | asset_url }}" defer="defer"></script>#}
    {#{%- else -%}#}
        {#<link rel="prefetch" href="{{ 'template.gift_card.js' | asset_url }}" as="script">#}
    {#{%- endif -%}#}

    {#{%- if template == 'index' -%}#}
        {#<script type="text/javascript" src="{{ 'template.index.js' | asset_url }}" defer="defer"></script>#}
    {#{%- else -%}#}
        {#<link rel="prefetch" href="{{ 'template.index.js' | asset_url }}" as="script">#}
    {#{%- endif -%}#}

    {#{%- if template == 'product' -%}#}
        {#<script type="text/javascript" src="{{ 'template.product.js' | asset_url }}" defer="defer"></script>#}
    {#{%- else -%}#}
        {#<link rel="prefetch" href="{{ 'template.product.js' | asset_url }}" as="script">#}
    {#{%- endif -%}#}

    {#{%- if template == 'addresses' -%}#}
        {#<script type="text/javascript" src="{{ 'template.addresses.js' | asset_url }}" defer="defer"></script>#}
    {#{%- else -%}#}
        {#<link rel="prefetch" href="{{ 'template.addresses.js' | asset_url }}" as="script">#}
    {#{%- endif -%}#}

    {#{%- if template == 'login' -%}#}
        {#<script type="text/javascript" src="{{ 'template.login.js' | asset_url }}" defer="defer"></script>#}
    {#{%- else -%}#}
        {#<link rel="prefetch" href="{{ 'template.login.js' | asset_url }}" as="script">#}
    {#{%- endif -%}#}

{%- endcomment -%}